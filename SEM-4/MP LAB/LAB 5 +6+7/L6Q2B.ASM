DATA SEGMENT
NUM DW 0015H,00018H,0021H,0012H
GCD DW ?
DATA ENDS

M1 MACRO
local AGAIN
LOCAL DIVAXBX
LOCAL BIGBX
LOCAL EXIT
AGAIN : 
	CMP AX,BX
	JE EXIT
	JB BIGBX
DIVAXBX:
	MOV DX,0
	DIV BX
	CMP DX,0
	JE EXIT
	MOV AX,DX
	JMP AGAIN
BIGBX:
	XCHG AX,BX
	JMP DIVAXBX
EXIT:
	MOV GCD,BX	
ENDM
CODE SEGMENT
ASSUME CS:CODE, DS: DATA

START:
MOV AX,DATA
MOV DS,AX

MOV AX,NUM
MOV BX,NUM+2
M1
MOV AX,GCD
MOV BX,NUM+4
M1
MOV AX,GCD
MOV BX,NUM+6
M1

MOV AH, 4CH
INT 21H
CODE ENDS
END START
